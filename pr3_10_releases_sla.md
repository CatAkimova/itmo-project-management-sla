 Практическая работа №3  
 10 релизов / SLA как контракт команды

 1. Описание сервиса и команды

**Продукт:** интернет-магазин электроники с веб-версией и мобильным приложением (iOS/Android).  
**Цель:** увеличить конверсию и выручку за счёт стабильности, скорости и удобства сервиса.

**Команда:**

- Product Owner (PO) – владелец продукта.
- Team Lead (TL) – руководитель разработки (web + mobile).
- DevOps – инфраструктура, CI/CD, мониторинг.
- Web-разработка – фронтенд + бэкенд.
- Mobile-разработка – iOS/Android.
- QA – тестирование, автоматизация.
- Support – 1-я линия поддержки.

SLA рассматривается как **контракт внутри команды**, связывающий бизнес-ценность и технические показатели (аптайм, MTTR, latency, CSAT и др.).



 2. Набор SLA-метрик сервиса

Выделены 6 ключевых SLA-метрик, которые фиксируются в таблице:

| Код | Метрика                      | Описание                                                                                 | Единица          | Базовый целевой уровень (SLO) |
|-----|------------------------------|------------------------------------------------------------------------------------------|------------------|-------------------------------|
| M1  | Uptime                       | Доля времени доступности core-сервисов (каталог, корзина, оформление заказа)            | % за месяц       | ≥ 99.5%                       |
| M2  | Latency p95                  | Время ответа API по p95 для ключевых операций (каталог, добавление в корзину, checkout) | секунды          | ≤ 1.2 s                       |
| M3  | Reaction Time (CRIT bugs)    | Время до начала работ по критическому багу (P1)                                         | часы             | ≤ 0.5 ч (30 минут)            |
| M4  | MTTR (CRIT инциденты)        | Среднее время восстановления после критического инцидента                               | часы             | ≤ 2 ч                         |
| M5  | Defect Density post-release  | Кол-во багов P1–P2 на 1000 оформленных заказов в течение 7 дней после релиза           | баг/1000 заказов | ≤ 0.7                         |
| M6  | CSAT                         | Удовлетворённость пользователей (опрос после покупки, 1–5)                              | % оценок 4–5     | ≥ 88%                         |


 3. Таблица релизов с целями и фактическими SLA

Моделируем 10 двухнедельных релизов (R1–R10).  
В таблице отражены основные цели, целевые SLA (по M1, M2, M4, M6) и фактические значения.

 3.1. Сводная таблица релизов

Обозначения:

- `T_*` — целевые значения,
- `F_*` — фактические значения,
- `OK` — SLA по ключевым метрикам соблюдён,
- `FAIL` — есть значимые нарушения.

| Релиз | Краткая цель                                | T_M1 Uptime | F_M1 | T_M2 p95 | F_M2 | T_M4 MTTR | F_M4 | T_M6 CSAT | F_M6 | Итог |
|-------|---------------------------------------------|------------:|-----:|---------:|-----:|----------:|-----:|----------:|-----:|:-----|
| R1    | MVP корзины и checkout                      | 99.0%       | 98.7% | 1.5s   | 1.8s | 3.0ч     | 3.5ч | 85%       | 82%  | FAIL |
| R2    | Оптимизация производительности backend      | 99.0%       | 99.3% | 1.4s   | 1.2s | 3.0ч     | 2.5ч | 85%       | 86%  | OK   |
| R3    | Первый релиз mobile-приложения              | 99.2%       | 98.9% | 1.4s   | 1.6s | 2.8ч     | 3.2ч | 86%       | 84%  | FAIL |
| R4    | Улучшение стабильности и мониторинга        | 99.3%       | 99.6% | 1.3s   | 1.1s | 2.5ч     | 1.9ч | 87%       | 89%  | OK   |
| R5    | Рекомендации и персонализация               | 99.4%       | 99.2% | 1.3s   | 1.5s | 2.5ч     | 2.7ч | 88%       | 87%  | FAIL |
| R6    | Оптимизация mobile (перфоманс, оффлайн)     | 99.5%       | 99.4% | 1.3s   | 1.2s | 2.3ч     | 2.1ч | 88%       | 90%  | OK   |
| R7    | Улучшение checkout + новые методы оплаты    | 99.6%       | 99.7% | 1.2s   | 1.1s | 2.2ч     | 1.8ч | 89%       | 91%  | OK   |
| R8    | Акционный релиз перед распродажей           | 99.7%       | 99.1% | 1.2s   | 1.8s | 2.0ч     | 3.4ч | 90%       | 85%  | FAIL |
| R9    | Стабилизация после распродажи               | 99.7%       | 99.6% | 1.2s   | 1.3s | 2.0ч     | 2.0ч | 90%       | 89%  | OK   |
| R10   | Техдолг + рефакторинг платёжного модуля     | 99.8%       | 99.8% | 1.1s   | 1.0s | 1.8ч     | 1.6ч | 91%       | 92%  | OK   |

---

 4. Чёрные лебеди и реакция команды

Ниже кратко описаны ключевые «чёрные лебеди» (непредвиденные события) и реакция команды по релизам.

### R1 — MVP корзины и checkout

**Чёрные лебеди:**

1. Недооценка стоимости инфраструктуры: расходы на серверы и CDN выше плановых на 25%.
2. Низкая скорость CMS для контент-редакторов: жалобы на медленную работу карточек.

**Реакция:**

- DevOps пересмотрели настройки autoscaling и тарифы провайдера, добавили внутреннюю метрику по загрузке CPU.
- Задачи по оптимизации CMS вынесены в бэклог R2, введён отдельный SLA для внутренних пользователей.



 R2 — Оптимизация производительности backend

**Чёрные лебеди:**

1. Перегрузка команды, рост переработок и стресса.
2. Обновление ORM-библиотеки ломает сборку приложения.

**Реакция:**

- Введён лимит на незапланированные задачи (не более 15% спринта).
- Настроены жёсткие правила обновления зависимостей: только через технические релизы и отдельные ветки.



 R3 — Первый релиз mobile-приложения

**Чёрные лебеди:**

1. Увольнение ключевого мобильного разработчика из-за выгорания.
2. Проблемы с авторизацией после обновления модуля безопасности.

**Реакция:**

- TL перераспределил задачи между web и mobile, понизил объём фич для mobile.
- В SLA добавлен KPI по времени реакции на инциденты авторизации (≤ 15 минут).



 R4 — Улучшение стабильности и мониторинга

**Чёрные лебеди:**

1. Авария в дата-центре, временная недоступность сервиса.
2. Конфликт между ИТ и бизнес-заказчиком из-за приоритета надёжности против новых фич.

**Реакция:**

- Реализован сценарий работы в нескольких зонах доступности, введены уровни SLA для core и secondary функций.
- Зафиксировано целевое Run vs Grow ≈ 70/30 на ближайшие релизы в пользу надёжности.



 R5 — Рекомендации и персонализация

**Чёрные лебеди:**

1. Новый функционал рекомендаций замедляет работу сервиса.
2. Маркетинг требует срочной фичи, которая ломает текущую архитектуру.

**Реакция:**

- Часть логики рекомендаций вынесена в асинхронные процессы.
- Согласован упрощённый MVP-функционал, зафиксировано правило: новые фичи не должны ухудшать latency более чем на 10%.



### R6 — Оптимизация mobile (перфоманс, оффлайн)

**Чёрные лебеди:**

1. Вводится лимит на найм новых сотрудников при росте нагрузки.
2. Резко растут тарифы push-провайдера.

**Реакция:**

- Повышен приоритет технических задач, максимизирующих производительность.
- Часть уведомлений переведена в in-app сообщения, введена SLA-метрика по доставке критических уведомлений.



 R7 — Улучшение checkout + новые методы оплаты

**Чёрные лебеди:**

1. Внешний платёжный провайдер изменяет API и условия работы.
2. Руководство требует ускоренного внедрения нового метода оплаты.

**Реакция:**

- Сформирован отдельный SLA с провайдером (uptime, latency, MTTR), реализован режим degraded mode.
- Пересобран roadmap: часть задач перенесена ради соблюдения сроков по оплате.



 R8 — Акционный релиз перед распродажей

**Чёрные лебеди:**

1. Система не выдерживает пиковую нагрузку во время акции.
2. Резкий рост обращений в техподдержку после релиза.

**Реакция:**

- Нагрузочные тесты включены в Definition of Done для крупных маркетинговых релизов.
- Введён SLA для техподдержки по времени первого ответа (чат и email), частично автоматизированы ответы.



 R9 — Стабилизация после распродажи

**Чёрные лебеди:**

1. Негативный отзыв уволенного сотрудника про ИТ-департамент.
2. Ошибки в отчётах ERP после интеграции.

**Реакция:**

- Проведена внутренняя ретроспектива, сделан упор на культуру пост-мортемов без поиска виноватых.
- Для интеграций с ERP введён отдельный SLA по корректности отчётов и окнам обслуживания.



 R10 — Техдолг и рефакторинг платёжного модуля

**Чёрные лебеди:**

1. Внезапная внутренняя проверка по безопасности.
2. Конкурирующий внутренний проект с похожим функционалом.

**Реакция:**

- В релиз включены задачи по устранению критических уязвимостей, добавлены SLA-метрики по безопасности (0 high-severity уязвимостей).
- Проведён архитектурный комитет, принято решение об интеграции с другим решением вместо конкуренции.


 5. Краткий анализ динамики выполнения SLA

- На ранних этапах (R1–R3) SLA регулярно нарушались: недооценка инфраструктуры, человеческий фактор, первые релизы mobile.
- После фокуса на мониторинге и устойчивости (R4, R6, R7, R9, R10) большинство релизов укладываются в целевые SLA.
- Акционный релиз R8 показал, что SLA нужно связывать не только с техническими, но и с маркетинговыми планами.
- Команда постепенно пришла к **реалистичным SLA**, которые можно выдерживать, а не к «идеальным» цифрам, не учитывающим бюджет и ресурсы.

**Вывод:** SLA стали реальным инструментом управления качеством и приоритетами, а не формальной метрикой.  
Команда научилась балансировать между скоростью, качеством и стоимостью, фиксируя компромиссы в SLA.
