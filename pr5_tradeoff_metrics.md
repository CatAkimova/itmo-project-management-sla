# Практическая работа №5  
## Trade-off и метрики релиза

**Студент:** _ФИО_  
**Группа:** _Группа_  
**Год:** 2025  

## 1. Исходные данные релиза X

Релиз X — R7 «Checkout 2.0 + новые методы оплаты».  
Релиз критичен: checkout влияет на конверсию, прибыль и пользовательский опыт.

Ограничения:
- итерация = 2 недели,
- производительность команды = 80 story points,
- строгие SLA на uptime, latency, MTTR и CSAT,
- технологическая сложность — высокая.

## 2. Задачи релиза и оценки их стоимости

| ID | Задача | Тип | Effort SP | Value (1–5) |
|----|--------|------|-----------|--------------|
| T1 | Интеграция оплаты СБП | Фича | 13 | 5 |
| T2 | Интеграция PayLater | Фича | 21 | 4 |
| T3 | UI-упрощение checkout | UX | 13 | 5 |
| T4 | Degraded mode при отказе провайдера | Надёжность | 8 | 5 |
| T5 | Нагрузочные тесты checkout | Техдолг | 5 | 4 |
| T6 | Логи и дашборды оплаты | Техдолг | 5 | 4 |
| T7 | Оптимизация запросов к БД | Производительность | 10 | 4 |
| T8 | Улучшения CMS | Внутренний функционал | 5 | 3 |

Суммарная загрузка = 80 SP.

## 3. Матрица приоритетов

### 3.1. Value vs Effort

Высокая ценность + низкий effort:
- T4, T5, T6

Высокая ценность + высокий effort:
- T1, T2, T3, T7

Средняя ценность:
- T8

### 3.2. WSJF

WSJF = (BV + Time Criticality + Risk Reduction) / Size

| ID | Size | BV | TC | RR | WSJF | Приоритет |
|----|------|----|----|----|-------|-----------|
| T1 | 13 | 5 | 5 | 3 | 1.08 | Высокий |
| T2 | 21 | 4 | 3 | 2 | 0.43 | Низкий |
| T3 | 13 | 5 | 4 | 2 | 0.85 | Средний |
| T4 | 8 | 5 | 5 | 5 | 1.88 | Очень высокий |
| T5 | 5 | 4 | 4 | 4 | 2.4 | Очень высокий |
| T6 | 5 | 4 | 3 | 5 | 2.4 | Очень высокий |
| T7 | 10 | 4 | 4 | 3 | 1.1 | Высокий |
| T8 | 5 | 3 | 2 | 1 | 1.2 | Средний |

Таким образом, ядро релиза — T4, T5, T6, T1, T7.

## 4. Финансовые метрики релиза

### 4.1. TCO (Total Cost of Ownership)

Допущения:
- 1 SP = 6 часов,
- ставка = 1500 ₽/час.

Затраты на разработку:
80 SP × 6 × 1500 = **720 000 ₽**

Инфраструктура:
200 000 ₽

Support + обучение:
80 000 ₽

Итоговый TCO:
**1 000 000 ₽**

### 4.2. CPU (Cost per Unit)

Если релиз даёт +15 000 заказов в год:

CPU = 1 000 000 / 15 000 = **≈ 66.7 ₽ за один заказ**

### 4.3. ROI (Return on Investment)

Маржа с заказа: 400 ₽

Прибыль: 15 000 × 400 = **6 000 000 ₽**

ROI = (6 000 000 − 1 000 000) / 1 000 000 = **500%**

### 4.4. Run vs Grow

Run (поддержка, надёжность): T4, T5, T6, T7 ≈ 600 000 ₽  
Grow (новые фичи): T1, T2, T3, T8 ≈ 400 000 ₽  

Соотношение:
**60 / 40**

## 5. Чёрный лебедь: ухудшение производительности + требование инвестора

В тестовой среде фиксируются проблемы:
- Latency p95 checkout повышается до 1.6 s,
- Uptime в нагрузочных тестах падает до 99.2%,
- нагрузка на инфраструктуру растёт на 30%.

Параллельно инвестор требует включения PayLater (T2) в релиз как обязательного условия инвестиционного раунда.

Ограничения:
- нельзя превышать TCO более чем на 10%,
- нельзя увеличивать команду (headcount freeze).

## 6. Пересмотр приоритетов

Повышаются показатели Time Criticality и Risk Reduction для задач производительности (T5, T7) и для T2 (из-за инвестора).

Итог:

- T5 — приоритет №1 (нужны нагрузочные тесты),
- T6 — критичен для наблюдаемости,
- T4 и T7 — обязательны для SLA,
- T2 — нельзя удалить,
- T1 и T3 остаются важными,
- T8 переносится.

## 7. Новый состав релиза

Оставляем:
- T4 (8 SP)
- T5 (5 SP)
- T6 (5 SP)
- T7 (10 SP)
- T1 (13 SP)
- T3 (13 SP)
- T2 (21 SP)

Итого: 75 SP  
5 SP оставляем под багфиксы критичности P1–P2.

Переносим:
- T8 (5 SP)

## 8. Влияние корректировок на метрики

После пересборки релиза:

Latency p95 → возвращается к 1.2–1.3 s  
Uptime → доходит до 99.7%  
CPU нагрузка → снижается до +10%  
Риски отклонений в период распродажи значительно ниже.

ROI снижается незначительно, но устойчивость релиза повышается.

Run vs Grow становится:
**65 / 35**

## 9. Рекомендации для последующих релизов (X+1, X+N)

- В X+1 включить T8 и задачи стабилизации после распродажи.
- Делать пересмотр SLA ежеквартально.
- Использовать SLA как инструмент аргументации во всех спорных приоритетах.
- Оставлять резерв 5–10 SP в критичных релизах.
- Требовать обязательное моделирование нагрузки перед маркетинговыми кампаниями.

## Итог

Релиз X устойчиво выдерживает SLA даже после чёрного лебедя.  
Команда научилась проводить корректные trade-off переговоры на основе SLA, TCO, ROI и оценки рисков.  
Процесс стал предсказуемым, а решения — основанными на данных, а не предположениях.
